---
title: 类对象与元类对象&消息传递
keywords: iOS面试
date: 2019-04-27 19:47:40
categories: 
  - 面试
tags:
  - 类对象与元类对象&消息传递
comments: true
---



**<u>`类对象和元类对象之间有什么联系？`</u>**

![4-5-1](https://raw.githubusercontent.com/HaviLee/Blog-Images/master/Tech/5-2-2.png)

- 类对象存储实例方法列表等信息
- 元类对象存储类方法列表等信息
- 实例对象可以通过她的isa指针找到它的`类对象`，类对象存储实例方法列表等信息
- 类对象可以通过isa指针找到它的`元类对象`，元类对象存储类方法列表等信息
- 类对象和元类对象都是objc_class，因此都有isa指针。
- 元类对象的isa指针都指向`根元类对象`
- 根元类对象的`superclass`指向 `根类对象`

**<u>`如果我们调用的类方法没有对应的实现，但是有同名的实例方法实现，会不会发生crash?`</u>**

我们调用的类方法在元类中找不到的时候，它就会去找根类当中同名的实例方法实现。主要是因为根元类的superclass指向根类对象。

**<u>`消息传递流程？`</u>**

调用了实例方法A,系统根据当前对象的isa指针，找到类对象，在类对象中遍历方法列表，查找同名方法实现，如果没有，会根据superClass在父类中查找，父类中没有，最后去根类中，根类也没有的话，进行消息转发。

# 面试题

![4-5-1](https://raw.githubusercontent.com/HaviLee/Blog-Images/master/Tech/5-2-3.png)

##### 









